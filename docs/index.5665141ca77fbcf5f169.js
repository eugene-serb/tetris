(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,n){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(r)?r:String(r)),o)}var r}var n=new WeakSet;function i(){this.timeNow=Date.now();var t=this.timeNow-this.timeStart,e=Math.floor(t/1e3),n=0;e>=60&&(e-=60*(n=Math.floor(e/60))),n=n<10?"0".concat(n):"".concat(n),e=e<10?"0".concat(e):"".concat(e),this.time="".concat(n,":").concat(e)}const o=function(){function t(e){var i,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(i=this,o=n),o.add(i),this.$container=e,this.time="00:00",this.timeStart=Date.now(),this.timeNow=this.timeStart,this.draw()}var o,r;return o=t,(r=[{key:"draw",value:function(){(function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n})(this,n,i).call(this),this.$container.innerText="Time: ".concat(this.time)}}])&&e(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),t}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===r(o)?o:String(o)),i)}var o}function c(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e){l(t,e),e.add(t)}function l(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var f=new WeakSet,h=new WeakSet,y=new WeakSet,m=new WeakSet,w=new WeakSet,v=new WeakMap,d=new WeakSet,p=new WeakSet,b=new WeakSet;function S(){this.timer=new o(this.$TIMER),this.isPaused=!1,this.canMove=!0,this.interval=setInterval(u(this,h,E).bind(this),this.SPEED_RATE)}function E(){u(this,y,T).call(this),u(this,m,g).call(this),u(this,w,P).call(this)}function T(){}function g(){this.timer.draw()}function P(){}function k(){this.$MAP=document.querySelector("#map"),this.$SCORE=document.querySelector("#score"),this.$TIMER=document.querySelector("#timer"),this.$RATING=document.querySelector("#rating")}function A(){u(this,b,W).call(this)}function W(){var t=this;window.addEventListener("keydown",(function(e){!0===t.canMove&&("ArrowLeft"===e.code||"KeyA"===e.code||"ArrowUp"===e.code||"KeyW"===e.code||"ArrowRight"===e.code||"KeyD"===e.code?console.log("keydown",e.code):"ArrowDown"!==e.code&&"KeyS"!==e.code||console.log("keydown",e.code)),"KeyR"===e.code&&(clearInterval(t.interval),u(t,f,S).call(t)),"KeyP"===e.code&&(!0===t.isPaused?(t.interval=setInterval(u(t,h,E).bind(t),t.SPEED_RATE),t.isPaused=!1):(clearInterval(t.interval),t.isPaused=!0))}))}new(c((function t(){var e,n,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,b),s(this,p),s(this,d),s(this,w),s(this,m),s(this,y),s(this,h),s(this,f),n={writable:!0,value:function(){i.MATRIX_WIDTH=10,i.MATRIX_HEIGHT=24,i.SPEED_RATE=1e3}},l(this,e=v),e.set(this,n),u(this,d,k).call(this),function(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}(this,v).call(this),u(this,p,A).call(this),u(this,f,S).call(this)})))})();
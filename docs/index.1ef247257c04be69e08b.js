(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,n){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===t(o)?o:String(o)),r)}var o}var n=new WeakSet;function i(){this.timeNow=Date.now();var t=this.timeNow-this.timeStart,e=Math.floor(t/1e3),n=0;e>=60&&(e-=60*(n=Math.floor(e/60))),n=n<10?"0".concat(n):"".concat(n),e=e<10?"0".concat(e):"".concat(e),this.time="".concat(n,":").concat(e)}const r=function(){function t(e){var i,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(i=this,r=n),r.add(i),this.$container=e,this.time="00:00",this.timeStart=Date.now(),this.timeNow=this.timeStart}var r,o;return r=t,(o=[{key:"draw",value:function(){(function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n})(this,n,i).call(this),this.$container.innerText="Time: ".concat(this.time)}}])&&e(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===o(r)?r:String(r)),i)}var r}const c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$container=e,this.balance=0}var e,n;return e=t,(n=[{key:"increase",value:function(t){this.balance+=t,this.draw()}},{key:"draw",value:function(){this.$container.innerText="Score: ".concat(this.balance)}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===s(r)?r:String(r)),i)}var r}function u(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t,e){h(t,e),e.add(t)}function h(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var m=new WeakSet,v=new WeakSet,p=new WeakSet,b=new WeakSet,w=new WeakSet,d=new WeakMap,S=new WeakSet,E=new WeakSet,T=new WeakSet;function g(){this.timer=new r(this.$TIMER),this.score=new c(this.$SCORE),this.isPaused=!1,this.canMove=!0,this.interval=setInterval(y(this,v,P).bind(this),this.SPEED_RATE)}function P(){y(this,p,k).call(this),y(this,b,j).call(this),y(this,w,A).call(this)}function k(){}function j(){this.timer.draw(),this.score.draw()}function A(){}function R(){this.$MAP=document.querySelector("#map"),this.$SCORE=document.querySelector("#score"),this.$TIMER=document.querySelector("#timer"),this.$RATING=document.querySelector("#rating")}function W(){y(this,T,I).call(this)}function I(){var t=this;window.addEventListener("keydown",(function(e){!0===t.canMove&&("ArrowLeft"===e.code||"KeyA"===e.code||"ArrowUp"===e.code||"KeyW"===e.code||"ArrowRight"===e.code||"KeyD"===e.code||"ArrowDown"===e.code||e.code),"KeyR"===e.code&&(clearInterval(t.interval),y(t,m,g).call(t)),"KeyP"===e.code&&(!0===t.isPaused?(t.interval=setInterval(y(t,v,P).bind(t),t.SPEED_RATE),t.isPaused=!1):(clearInterval(t.interval),t.isPaused=!0))}))}new(u((function t(){var e,n,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,T),f(this,E),f(this,S),f(this,w),f(this,b),f(this,p),f(this,v),f(this,m),n={writable:!0,value:function(){i.MATRIX_WIDTH=10,i.MATRIX_HEIGHT=24,i.SPEED_RATE=1e3}},h(this,e=d),e.set(this,n),y(this,S,R).call(this),function(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}(this,d).call(this),y(this,E,W).call(this),y(this,m,g).call(this)})))})();